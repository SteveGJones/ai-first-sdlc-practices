# Migration Guide: v1.5.0 to v1.6.0

**Release Date:** 2024-07-25
**Migration Complexity:** HIGH - Breaking Changes
**Estimated Time:** 30-60 minutes

---

## 🎯 Overview

Version 1.6.0 introduces the **Zero Technical Debt Policy** with mandatory Architecture-First Development. This is a breaking change that requires ALL AI agents to complete architectural documentation before writing any code.

---

## 🚨 Breaking Changes

1. **Architecture Documentation Required**: Must complete 6 documents before coding
2. **New Validation Checks**: architecture, technical-debt, type-safety
3. **Stricter Quality Gates**: Zero tolerance for any technical debt
4. **Updated Workflow**: Architecture phase now mandatory

---

## 📋 Step-by-Step Migration

### Step 1: Update Framework Files

```bash
# 1. Update ZERO-TECHNICAL-DEBT.md policy
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/ZERO-TECHNICAL-DEBT.md

# 2. Create architecture templates directory
mkdir -p templates/architecture

# 3. Download all 6 architecture templates
cd templates/architecture
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/requirements-traceability-matrix.md
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/what-if-analysis.md
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/architecture-decision-record.md
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/system-invariants.md
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/integration-design.md
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/architecture/failure-mode-analysis.md
cd ../..
```

### Step 2: Update Validation Tools

```bash
# 1. Download new architecture validator
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/tools/validation/validate-architecture.py
chmod +x validate-architecture.py
mv validate-architecture.py tools/validation/

# 2. Download technical debt detector
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/tools/validation/check-technical-debt.py
chmod +x check-technical-debt.py
mv check-technical-debt.py tools/validation/

# 3. Update validation pipeline
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/tools/validation/validate-pipeline.py
chmod +x validate-pipeline.py
mv validate-pipeline.py tools/validation/

# 4. Update quality gates configuration
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/quality-gates.yaml
mv quality-gates.yaml templates/
```

### Step 3: Update CLAUDE.md

Add the Architecture-First Development section to your CLAUDE.md after the Zero Technical Debt Policy section:

```bash
# Download the updated CLAUDE.md template
curl -LO https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/CLAUDE.md

# Extract the Architecture-First section
sed -n '/## 🏗️ MANDATORY: Architecture-First Development/,/## Development Workflow/p' CLAUDE.md > arch-section.txt

# Manually merge this section into your existing CLAUDE.md
# Place it after "## 🚨 Zero Technical Debt Policy" section
```

### Step 4: Create Architecture Directory

```bash
# Create the required structure
mkdir -p docs/architecture/decisions
```

### Step 5: Handle Work in Progress

For any features currently being developed:

```bash
# 1. Stash current work
git stash

# 2. Copy architecture templates
cp templates/architecture/*.md docs/architecture/

# 3. Fill out ALL 6 documents completely
# This is mandatory - no exceptions

# 4. Validate architecture
python tools/validation/validate-architecture.py

# 5. Only after validation passes
git stash pop
```

### Step 6: Update CI/CD

Add architecture validation to your CI/CD pipeline:

```yaml
# For GitHub Actions (.github/workflows/ai-sdlc-validation.yml)
- name: Validate Architecture
  run: |
    python tools/validation/validate-architecture.py --strict

- name: Check Technical Debt
  run: |
    python tools/validation/check-technical-debt.py --threshold 0

# For GitLab CI (.gitlab-ci.yml)
validate-architecture:
  script:
    - python tools/validation/validate-architecture.py --strict
    - python tools/validation/check-technical-debt.py --threshold 0
```

### Step 7: Update VERSION

```bash
echo "1.6.0" > VERSION
```

### Step 8: Commit Changes

```bash
git add -A
git commit -m "feat: upgrade to v1.6.0 with Zero Technical Debt policy

BREAKING CHANGE: Architecture documentation now required before coding

- Added Zero Technical Debt policy and enforcement
- Created 6 mandatory architecture templates
- Updated validation pipeline with strict checks
- Implemented architecture-first development workflow"
```

---

## ✅ Validation

After migration, run these checks:

```bash
# 1. Verify all files are in place
ls -la ZERO-TECHNICAL-DEBT.md
ls -la templates/architecture/*.md | wc -l  # Should show 6
ls -la tools/validation/validate-architecture.py
ls -la tools/validation/check-technical-debt.py

# 2. Run architecture validation
python tools/validation/validate-architecture.py

# 3. Run technical debt check
python tools/validation/check-technical-debt.py

# 4. Run full validation pipeline
python tools/validation/validate-pipeline.py --checks architecture technical-debt type-safety

# 5. Verify quality gates
grep "max_warnings: 0" templates/quality-gates.yaml
```

---

## 🔄 Rollback Instructions

If you need to rollback:

```bash
# 1. Restore previous VERSION
echo "1.5.0" > VERSION

# 2. Remove new validations from CI/CD

# 3. Remove architecture requirements from CLAUDE.md

# Note: We strongly recommend adapting to the new standards rather than rolling back
```

---

## 📚 New Files in This Release

1. **ZERO-TECHNICAL-DEBT.md**: Comprehensive policy document
2. **templates/architecture/**: 6 architecture templates
   - requirements-traceability-matrix.md
   - what-if-analysis.md
   - architecture-decision-record.md
   - system-invariants.md
   - integration-design.md
   - failure-mode-analysis.md
3. **tools/validation/validate-architecture.py**: Architecture validator
4. **tools/validation/check-technical-debt.py**: Technical debt detector

---

## 🆘 Troubleshooting

**Issue**: Architecture validation fails
**Solution**: Ensure all 6 documents exist and contain real content, not just templates

**Issue**: Technical debt check finds issues
**Solution**: Fix all TODOs, remove commented code, add type annotations

**Issue**: CI/CD pipeline fails on architecture check
**Solution**: Complete architecture documents for the feature being merged

**Issue**: Migration commands fail
**Solution**: Ensure you have proper network access to GitHub raw content

---

## 📝 Notes for AI Agents

You have NO excuse for technical debt. Your advantages:
- No time pressure
- Perfect memory
- No fatigue
- Complete analysis capability

Use these advantages. Always complete architecture before coding.

**Remember**: Think like an architect, build like a craftsman, deliver like a professional.