# Migration Guide: v1.4.0 to v1.5.0

**Date:** 2025-07-20  
**Type:** Minor Update  
**Breaking Changes:** No  

## Overview

This update adds mandatory self-review process for AI agents and design documentation standards. These features improve artifact quality and prevent over-coding in design phases.

## New Features

1. **Self-Review Process**: AI agents must internally review artifacts before presenting
2. **Design Documentation Standards**: Clear separation between WHAT/WHY and HOW
3. **Enhanced Validation**: New checks for design documentation quality

## Files to Update

### 1. Update CLAUDE.md
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/CLAUDE.md > CLAUDE.md
```

### 2. Update Feature Proposal Template
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/feature-proposal.md > templates/feature-proposal.md
```

### 3. Update Implementation Plan Template
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/implementation-plan.md > templates/implementation-plan.md
```

### 4. Update Retrospective Template
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/retrospective.md > templates/retrospective.md
```

### 5. Add Design Documentation Template
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/templates/design-documentation.md > templates/design-documentation.md
```

### 6. Update Validation Pipeline
```bash
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/tools/validation/validate-pipeline.py > tools/validation/validate-pipeline.py
```

### 7. Add Self-Review Examples
```bash
# Create directory if needed
mkdir -p docs/examples

# Download examples
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/docs/examples/self-review-process.md > docs/examples/self-review-process.md
```

### 8. Add Design vs Implementation Guide
```bash
# Create directory if needed
mkdir -p docs/guides

# Download guide
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/docs/guides/design-vs-implementation.md > docs/guides/design-vs-implementation.md
```

### 9. Add Example Design Documents (Optional but Recommended)
```bash
# Create directory if needed
mkdir -p examples/design-docs

# Download examples
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/examples/design-docs/user-authentication-design.md > examples/design-docs/user-authentication-design.md
curl -sSL https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/examples/design-docs/data-pipeline-design.md > examples/design-docs/data-pipeline-design.md
```

## Verification Steps

After completing all updates, verify:

1. **Check Self-Review Process**:
   ```bash
   grep -q "Self-Review Process" CLAUDE.md && echo "✅ Self-review section found" || echo "❌ Missing self-review"
   ```

2. **Check Design Guidelines**:
   ```bash
   grep -q "Design Documentation Standards" CLAUDE.md && echo "✅ Design standards found" || echo "❌ Missing design standards"
   ```

3. **Verify Templates Have Checkpoints**:
   ```bash
   grep -q "SELF-REVIEW CHECKPOINT" templates/feature-proposal.md && echo "✅ Template updated" || echo "❌ Template needs update"
   ```

4. **Test Validation Pipeline**:
   ```bash
   python tools/validation/validate-pipeline.py --checks design-docs
   ```

5. **Verify New Template Exists**:
   ```bash
   ls -la templates/design-documentation.md
   ```

## Complete the Update

Once all files are updated and verified:

```bash
echo "1.5.0" > VERSION
```

## Troubleshooting

### If validation pipeline fails:
- Ensure Python 3.8+ is installed
- Check that all files downloaded completely
- Look for partial downloads (files with .1 extension)

### If templates are missing checkpoints:
- Re-download the template files
- Verify no local modifications preventing updates

### If file downloads fail:
1. **Check for partial downloads**:
   ```bash
   ls -la *.1  # Look for files with .1 extension
   rm *.1      # Remove partial downloads
   ```

2. **Verify connectivity**:
   ```bash
   curl -I https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/VERSION
   ```

3. **Try alternative download method**:
   ```bash
   # If curl fails, try wget
   wget https://raw.githubusercontent.com/SteveGJones/ai-first-sdlc-practices/main/[file-path] -O [local-file]
   ```

### If verification steps fail:
- **DO NOT proceed** with VERSION update
- Report specific failure to user
- Check file contents manually
- Re-download failed files if needed

### General update issues:
- If ANY step fails, stop and report the issue
- Never update VERSION file until all other updates succeed
- When in doubt, ask the user for guidance

## Summary of Changes

You've successfully updated to v1.5.0! The framework now includes:

- **Self-Review Process**: You'll internally review all artifacts before presenting them
- **Design Standards**: When creating design docs, focus on WHAT and WHY, not HOW
- **Better Validation**: The pipeline will warn if design docs contain too much code
- **New Templates**: Use the design documentation template for architecture and specifications

Remember: The self-review process is internal - users don't see your review comments, only the final polished artifact.

<!-- SELF-REVIEW CHECKPOINT
Before finalizing, verify:
- All required sections are complete
- Content addresses original requirements
- Technical accuracy and consistency
- No gaps or contradictions
-->